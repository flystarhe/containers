FROM flystarhe/torch:v2.1.0-cuda11.8

ADD https://ultralytics.com/assets/Arial.ttf https://ultralytics.com/assets/Arial.Unicode.ttf /root/.config/Ultralytics/

RUN pip install --no-cache-dir notebook ipywidgets opencv-python pillow scikit-learn prettytable hello2 \
    albumentations comet onnx onnxsim nvidia-pyindex nvidia-tensorrt pycocotools

RUN rm -rf /opt/src/yolov8 && mkdir -p /opt/src/yolov8
WORKDIR /opt/src/yolov8
RUN git clone -b main --depth 1 https://github.com/ultralytics/ultralytics.git . && \
    pip install --no-cache-dir -r requirements.txt && \
    pip install --no-cache-dir -e . && \
    wget -q https://github.com/ultralytics/assets/releases/download/v0.0.0/yolov8n.pt

# entrypoint
WORKDIR /workspace
COPY entrypoint.sh /opt/src/
ENTRYPOINT ["/bin/bash", "/opt/src/entrypoint.sh"]
# Updated: 2024-01-01
